@startuml UCMS_ERD

' Define entity types
entity "Student" as Student {
  * StudentID : PK
  --
  FirstName
  LastName
  DateOfBirth
  Email
  PhoneNumber
  Address
  EnrollmentDate
  Status
}

entity "Faculty" as Faculty {
  * FacultyID : PK
  --
  FirstName
  LastName
  Email
  PhoneNumber
  DepartmentID : FK
  Title
}

entity "Course" as Course {
  * CourseID : PK
  --
  CourseName
  CourseCode
  Description
  Credits
  DepartmentID : FK
  PrerequisiteCourseID : FK
}

entity "Enrollment" as Enrollment {
  * EnrollmentID : PK
  --
  StudentID : FK
  CourseID : FK
  SectionID : FK
  EnrollmentDate
  Status
}

entity "Section" as Section {
  * SectionID : PK
  --
  CourseID : FK
  FacultyID : FK
  Semester
  Year
  Schedule
  Location
}

entity "AcademicRecord" as AcademicRecord {
  * RecordID : PK
  --
  StudentID : FK
  EnrollmentID : FK
  Grade
}

entity "HECS" as HECS {
  * HECSID : PK
  --
  StudentID : FK
  LoanAmount
  Balance
  InterestRate
  RepaymentStatus
}


entity "Administrator" as Administrator {
  * AdminID : PK
  --
  FirstName
  LastName
  Email
  PhoneNumber
}

entity "Reports" as Reports {
  * ReportID : PK
  --
  ReportName
  ReportType
  GeneratedDate
  Parameters
}

entity "Payment" as Payment {
  * PaymentID : PK
  --
  StudentID : FK
  Amount
  PaymentDate
  PaymentMethod
  Status
}

entity "SystemLog" as SystemLog {
  * LogID : PK
  --
  Timestamp
  UserID : FK
  Action
  Description
  Status
}

entity "User" as User {
  * UserID : PK
  --
  Username
  PasswordHash
  Role
  LastLogin
  AccountStatus
}

' Define relationships with cardinality

' Student ↔ Enrollment
Student ||--o{ Enrollment : "enrolls in"

' Course ↔ Enrollment
Course ||--o{ Enrollment : "has"

' Course ↔ Section
Course ||--o{ Section : "has sections"

' Faculty ↔ Section
Faculty ||--o{ Section : "teaches"

' Department ↔ Faculty
entity "Department" as Department {
  * DepartmentID : PK
  --
  DepartmentName
  DepartmentCode
  ChairID : FK
}

Department ||--o{ Faculty : "has"

' Department ↔ Course
Department ||--o{ Course : "offers"

' Enrollment ↔ AcademicRecord
Enrollment ||--|| AcademicRecord : "has"

' Student ↔ HECS
Student ||--o{ HECS : "has"

' Administrator ↔ ReportingTool
Administrator ||--o{ Reports : "creates"

' Student ↔ Payment
Student ||--o{ Payment : "makes"

' SystemLog ↔ User
User ||--o{ SystemLog : "performs"

' User ↔ Student, Faculty, Administrator
User ||--|| Student : "is a"
User ||--|| Faculty : "is a"
User ||--|| Administrator : "is a"

@enduml